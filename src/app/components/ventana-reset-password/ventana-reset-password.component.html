<div class="toda-la-pagina">
    <div class="reset-card">
        
        <div class="card-header">
            <h2>Restablecer ContraseÃ±a</h2>
            <p>Ingresa tu nueva clave</p>
        </div>

        <div *ngIf="!token" class="error-box">
            <p>ğŸš« Enlace invÃ¡lido o roto.</p>
            <a routerLink="/login">Volver al login</a>
        </div>

        <form *ngIf="token && !mensajeExito" (ngSubmit)="cambiarPassword()">
            
            <div class="form-group">
                <label>Nueva ContraseÃ±a</label>
                <input type="password" class="form-control" [(ngModel)]="password" name="pass" required minlength="6">
            </div>

            <div class="form-group">
                <label>Confirmar ContraseÃ±a</label>
                <input type="password" class="form-control" [(ngModel)]="confirmPassword" name="confirm" required>
            </div>

            <div *ngIf="mensajeError" class="error-msg">
                {{ mensajeError }}
            </div>

            <button type="submit" class="btn-primary" [disabled]="cargando || !password">
                <span *ngIf="!cargando">Guardar Nueva Clave</span>
                <span *ngIf="cargando">Procesando...</span>
            </button>
        </form>

        <div *ngIf="mensajeExito" class="success-box">
            <h3>Â¡Listo! ğŸ‰</h3>
            <p>Tu contraseÃ±a se actualizÃ³ correctamente.</p>
            <p>Redirigiendo al login...</p>
        </div>

    </div>
</div>